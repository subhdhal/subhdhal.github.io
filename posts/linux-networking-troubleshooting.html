<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Linux Networking & Troubleshooting: Essential Commands for DevOps Engineers - Subhashree Dhal</title>
    <link rel="stylesheet" href="../css/style.css">
    <link rel="icon" type="image/svg+xml" href="../favicon.svg">
</head>
<body>
    <div class="container">
        <!-- Navigation -->
        <nav class="nav">
            <ul class="nav-list">
                <li><a href="../index.html">home</a></li>
                <li><a href="../about.html">about</a></li>
                <li><a href="../posts.html" class="active">posts</a></li>
                <li><a href="../resume.html">resume</a></li>
            </ul>
            <div class="theme-toggle">
                <button id="theme-btn" class="theme-btn" aria-label="Toggle dark mode">
                    <svg class="sun-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
            </div>
        </nav>

        <!-- Main Content -->
        <main class="content">
            <article>
                <h1>Linux Networking & Troubleshooting: Essential Commands for DevOps Engineers</h1>
                <p class="post-date">November 2025</p>
                
                <section>
                    <h2>Introduction</h2>
                    <p>
                        Networking is fundamental to DevOps. Whether you're debugging connectivity issues in production, 
                        configuring network interfaces, or monitoring traffic, understanding Linux networking commands is essential. 
                        This guide covers the most critical commands and how to use them effectively for troubleshooting.
                    </p>
                </section>

                <section>
                    <h2>Network Stack Overview</h2>
                    <pre><code>OSI Model vs Linux Networking

Layer 7: Application      | HTTP, HTTPS, DNS, SSH, etc.
Layer 6: Presentation     | Encryption, compression
Layer 5: Session          | Connection management
Layer 4: Transport        | TCP, UDP (Port-level)
Layer 3: Network          | IP, routing, IP addresses
Layer 2: Data Link        | MAC addresses, ARP, switching
Layer 1: Physical         | Cables, physical infrastructure

Linux Networking Layers:

Application Layer
├─ http, https, ssh, smtp, dns
│
Transport Layer (Layer 4)
├─ TCP (reliable, ordered)
├─ UDP (fast, unreliable)
├─ Ports (80, 443, 22, 3306, etc.)
│
Network Layer (Layer 3)
├─ IPv4 (192.168.1.100)
├─ IPv6 (fe80::1)
├─ Routing (getting packets to destination)
│
Link Layer (Layer 2)
├─ MAC addresses (00:1A:2B:3C:4D:5E)
├─ ARP (IP to MAC resolution)
└─ Interfaces (eth0, wlan0)</code></pre>
                </section>

                <section>
                    <h2>Essential Networking Commands</h2>
                    
                    <h3>1. IP & Interface Configuration (ip command)</h3>
                    <p><strong>The modern replacement for ifconfig</strong></p>
                    <pre><code># View all network interfaces
ip link show
# Output: eth0, wlan0, lo, docker0, etc.

# View IP addresses
ip addr show
# Shows IPv4 and IPv6 addresses assigned

# View IP address for specific interface
ip addr show eth0
# Example: inet 192.168.1.100/24

# Bring interface up/down
ip link set eth0 up
ip link set eth0 down

# Assign IP address
sudo ip addr add 192.168.1.100/24 dev eth0

# Delete IP address
sudo ip addr del 192.168.1.100/24 dev eth0

# View routing table
ip route show
# Shows which network destinations use which interface

# Add static route
sudo ip route add 10.0.0.0/24 via 192.168.1.1

# Delete route
sudo ip route del 10.0.0.0/24 via 192.168.1.1

# View neighbor (ARP) table
ip neigh show
# Maps IP addresses to MAC addresses</code></pre>

                    <h3>2. Ping - Test Connectivity</h3>
                    <pre><code># Ping a host (Layer 3 - checks if host is reachable)
ping 8.8.8.8
# ICMP echo request/reply

# Ping with packet size
ping -s 1500 8.8.8.8
# Tests if packets of size 1500 bytes work

# Ping with limited count
ping -c 4 google.com
# Stop after 4 packets

# Ping with timeout
ping -w 5000 192.168.1.1
# Timeout after 5 seconds

# Continuous ping
ping 8.8.8.8
# Ctrl+C to stop</code></pre>

                    <h3>3. Traceroute - Trace Route to Host</h3>
                    <pre><code># Trace route to destination
traceroute google.com
# Shows each hop (router) between you and destination
# Useful for finding where network breaks

# Example output:
#  1  192.168.1.1 (gateway)
#  2  10.0.0.1 (ISP)
#  3  203.0.113.1 (internet)
#  ...
#  12 172.217.14.46 (google.com)

# Using mtr (modern traceroute with live stats)
mtr google.com
# Shows packet loss per hop in real-time

# Traceroute with custom port
traceroute -p 443 example.com
# Some routes block ICMP, try TCP/UDP instead</code></pre>

                    <h3>4. Netstat & SS - Connection Statistics</h3>
                    <pre><code># View all listening ports (netstat - old)
netstat -tlnp
# t=tcp, l=listening, n=numeric, p=program

# Modern replacement (ss)
ss -tlnp
# Much faster than netstat for large connection counts

# View all connections (established, listening, etc.)
ss -an
# a=all, n=numeric (shows IPs not hostnames)

# View connection statistics
ss -s
# Shows summary: TCP, UDP, ICMP stats

# View which process is listening on port 8080
ss -tlnp | grep 8080
# Find which application is using that port

# View socket statistics by state
ss -tan
# Shows state: LISTEN, ESTABLISHED, TIME_WAIT, etc.

# Monitor connections in real-time
watch -n 1 'ss -an | grep ESTABLISHED | wc -l'
# Show count of established connections</code></pre>

                    <h3>5. DNS Resolution (nslookup, dig, host)</h3>
                    <pre><code># Simple DNS lookup
nslookup google.com
# Shows IPv4 and IPv6 addresses

# Detailed DNS query (dig - preferred)
dig google.com
# Shows full DNS response, all records

# DNS lookup specific record type
dig google.com MX
# Query Mail Exchange records

dig google.com TXT
# Query TXT records (SPF, DKIM, etc.)

# Reverse DNS lookup
dig -x 8.8.8.8
# Find hostname for IP address

# Query specific nameserver
dig @8.8.8.8 google.com
# Query Google's DNS server directly

# Query with short output
dig +short google.com
# Just the IP address

# Check all nameservers for domain
dig google.com NS</code></pre>

                    <h3>6. Network Interface Monitoring</h3>
                    <pre><code># View network interface statistics
ifstat
# Shows bandwidth usage per interface in real-time

# Modern tool: nethogs
nethogs
# Shows bandwidth per process (who's using the network?)

# View detailed interface stats
ethtool eth0
# Shows speed, duplex, driver info

# Monitor network traffic (tcpdump)
sudo tcpdump -i eth0
# Capture all packets on interface

sudo tcpdump -i eth0 -n host 8.8.8.8
# Capture only packets to/from 8.8.8.8

# Monitor specific port
sudo tcpdump -i eth0 port 80
# Capture HTTP traffic

# Save to file for analysis
sudo tcpdump -i eth0 -w traffic.pcap
# Later analyze with Wireshark</code></pre>

                    <h3>7. Port Scanning & Service Discovery</h3>
                    <pre><code># Check if port is open (netcat)
nc -zv 192.168.1.100 22
# z=scan, v=verbose
# Returns: Connection successful if port is open

# Scan range of ports
nc -zv 192.168.1.100 20-25
# Check ports 20-25

# Scan multiple hosts
for ip in {1..10}; do nc -zv 192.168.1.$ip 22; done
# Scan ports 22 on 192.168.1.1 through 192.168.1.10

# More advanced: nmap
nmap -p 80,443,22 192.168.1.0/24
# Scan common ports on entire subnet

nmap -sV 192.168.1.100
# Detect service versions running</code></pre>

                    <h3>8. Network Packet Analysis</h3>
                    <pre><code># Capture and analyze packets (tcpdump)
sudo tcpdump -i eth0 -A -l | grep -i "pass\|user\|pwd"
# Capture credentials in HTTP requests (for testing!)

# Capture DNS queries
sudo tcpdump -i eth0 'udp port 53'
# Monitor DNS lookups

# Capture HTTP headers
sudo tcpdump -i eth0 -A 'tcp port 80 and (((ip[2:2] - ((ip[0]&xf)<<2)) - ((tcp[12]&xf0)>>2)) != 0)'
# Complex filter for HTTP payload

# Simpler: filter by protocol
sudo tcpdump -i eth0 tcp
sudo tcpdump -i eth0 udp
sudo tcpdump -i eth0 icmp</code></pre>
                </section>

                <section>
                    <h2>Common Network Troubleshooting Scenarios</h2>
                    
                    <h3>Scenario 1: Server Not Responding</h3>
                    <pre><code>TROUBLESHOOTING STEPS:

1. Can we reach the host?
   ping 192.168.1.100
   # If no response: Host is down or unreachable

2. Can we reach the network?
   ping 192.168.1.1  (gateway)
   # If works but host doesn't: Host-specific issue

3. Check routing
   ip route show
   # Verify default gateway is correct

4. Check DNS (if using hostname)
   dig example.com
   # Verify hostname resolves correctly

5. Check if service is listening
   ss -tlnp | grep :8080
   # Verify application is listening on port

6. Check firewall
   sudo iptables -L
   # Verify port is not blocked

7. Check with verbose trace
   traceroute 192.168.1.100
   # Find where connection breaks</code></pre>

                    <h3>Scenario 2: Slow Network Performance</h3>
                    <pre><code>DIAGNOSIS:

1. Check bandwidth usage
   nethogs
   # Identify which process is using bandwidth

2. Monitor packet loss
   ping -c 100 8.8.8.8
   # Look for "% packet loss"
   # >1% loss indicates problems

3. Check interface errors
   ip -s link show
   # Look for RX errors, TX errors, dropped packets

4. Check for network congestion
   watch -n 1 'ss -s'
   # Monitor connection states over time
   # Many TIME_WAIT = potential issue

5. Test specific path
   mtr google.com
   # Shows which hop has packet loss

6. Check DNS performance
   time dig google.com
   # Slow DNS lookups affect everything</code></pre>

                    <h3>Scenario 3: Port Already in Use</h3>
                    <pre><code># Find which process is using a port
sudo ss -tlnp | grep :8080
# Look for the PID and process name

# Kill the process
sudo kill -9 1234
# Replace 1234 with actual PID

# Or find and kill in one command
sudo kill -9 $(lsof -ti :8080)
# Finds PID listening on port 8080 and kills it

# Check if port is truly free
nc -zv localhost 8080
# Should fail if port is free</code></pre>

                    <h3>Scenario 4: No Internet Connectivity</h3>
                    <pre><code>TROUBLESHOOTING STEPS:

1. Check interface is up
   ip link show
   # Look for "UP" state

2. Check IP configuration
   ip addr show
   # Verify interface has IP address

3. Test gateway
   ping 192.168.1.1  (your gateway)

4. Test external host
   ping 8.8.8.8

5. Check routing
   ip route show
   # Should have default route via gateway

6. Check DNS
   dig 8.8.8.8  (should work - uses IP)
   dig google.com  (might fail - needs DNS)

7. If DNS fails
   cat /etc/resolv.conf
   # Check if nameservers are configured

8. Enable interface manually
   sudo ip link set eth0 up
   sudo dhclient eth0  (get IP via DHCP)</code></pre>
                </section>

                <section>
                    <h2>Network Diagnostics in Containers/Kubernetes</h2>
                    <pre><code># If debugging pod networking:

# Install tools in busybox container
kubectl run -it --image=busybox:latest debug --rm -- sh

# Inside container, basic tools available:
ping 8.8.8.8
nslookup kubernetes.default
nc -zv service-name 80
wget http://service-name/health

# Check cluster DNS
nslookup kubernetes.default
# Should resolve to cluster IP

# Check service connectivity
nc -zv my-service 8080
# Verify service is reachable from pod

# For Kubernetes networking:
kubectl get svc  (services)
kubectl get ep   (endpoints - actual pod IPs)
kubectl logs pod-name  (application logs)

# Network policy debugging
kubectl get networkpolicies
# Verify policies aren't blocking traffic</code></pre>
                </section>

                <section>
                    <h2>Network Configuration Files</h2>
                    <pre><code># IP configuration (persistent)
/etc/netplan/00-installer-config.yaml  (Ubuntu/Debian)
# Modern approach using netplan

/etc/network/interfaces  (older systems)
# Legacy interface configuration

/etc/resolv.conf
# DNS resolver configuration

/etc/hostname
# System hostname

/etc/hosts
# Local hostname to IP mapping

# Example netplan config:
network:
  version: 2
  ethernets:
    eth0:
      dhcp4: yes
      dhcp6: yes
    eth1:
      addresses:
        - 192.168.1.100/24
      gateway4: 192.168.1.1
      nameservers:
        addresses: [8.8.8.8, 8.8.4.4]

# Apply changes
sudo netplan apply</code></pre>
                </section>

                <section>
                    <h2>Performance Optimization Tips</h2>
                    <ul>
                        <li><strong>MTU Size:</strong> Default 1500 bytes. Some networks prefer 9000 (jumbo frames)</li>
                        <li><strong>TCP Tuning:</strong> Adjust socket buffers for high-throughput networks</li>
                        <li><strong>Connection Pooling:</strong> Keep connections alive to reduce handshake overhead</li>
                        <li><strong>DNS Caching:</strong> Local DNS cache reduces latency for repeated queries</li>
                        <li><strong>Load Balancing:</strong> Distribute traffic across multiple interfaces</li>
                    </ul>
                </section>

                <section>
                    <h2>Quick Reference Cheat Sheet</h2>
                    <pre><code>ip link show              Show interfaces
ip addr show              Show IP addresses
ip route show             Show routing table
ping DEST                 Test connectivity
traceroute DEST           Trace route to destination
ss -tlnp                  Show listening ports
dig DOMAIN                DNS lookup
nslookup DOMAIN           Simple DNS lookup
netstat -tulnp            Show all connections
ifstat                    Monitor bandwidth
nethogs                   Show bandwidth by process
ethtool eth0              Interface details
arp -a                    Show ARP table
route -n                  Show routing (old style)
hostname                  Show system hostname
cat /etc/hosts            Local DNS mappings
cat /etc/resolv.conf      Resolver configuration
ip link set eth0 up       Enable interface
ip link set eth0 down     Disable interface
dhclient eth0             Get IP via DHCP
sudo iptables -L          Show firewall rules
tcpdump -i eth0           Capture packets
nc -zv 192.168.1.1 22     Test port connectivity</code></pre>
                </section>

                <section>
                    <h2>Conclusion</h2>
                    <p>
                        Linux networking commands are essential tools for any DevOps engineer. Whether debugging connectivity issues, 
                        monitoring performance, or configuring systems, these commands help you understand and troubleshoot network problems. 
                        Start with the basics (ping, traceroute, ss), then learn more specialized tools as needed.
                    </p>
                    <p>
                        The key to effective troubleshooting is understanding the OSI model and systematically checking each layer 
                        from bottom to top: physical, link, network, transport, and application layers. This methodical approach will 
                        help you quickly identify and resolve network issues.
                    </p>
                </section>

                <div style="margin-top: 2rem; padding-top: 2rem; border-top: 1px solid var(--border-color);">
                    <p><a href="../posts.html">← Back to all posts</a></p>
                </div>
            </article>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <p>&copy; 2025 Subhashree Dhal. All rights reserved.</p>
        </footer>
    </div>

    <script src="../js/main.js"></script>
</body>
</html>